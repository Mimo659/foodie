/* IMPORTS & GLOBALE VARIABLEN */
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap');
:root {
    /* Original Palette (some might be overridden or kept for specific uses) */
    /* Original Palette (some might be overridden or kept for specific uses) */
    /* --primary-color: #2A9D8F; */ /* Original Teal - Deprecated */
    /* --primary-dark: #264653; */ /* Original Dark Blue/Teal - Deprecated for header, will be redefined if needed elsewhere */
    /* --accent-color: #E9C46A; */ /* Original Yellow - Deprecated */
    /* --accent-highlight: #F4A261; */ /* Original Orange - Deprecated */
    /* --danger-color: #E76F51; */ /* Original Coral Red - Deprecated, replaced by --k-accent-red */
    /* --background-color: #F7F9FA; */ /* Original Light Gray BG - Deprecated, replaced by --k-bg-light */
    /* --card-bg-color: #FFFFFF; */ /* Original White Card BG - Deprecated, replaced by --k-bg-card */
    /* --text-color: #264653; */ /* Original Dark Text - Deprecated, replaced by --k-text-primary */
    /* --subtle-text-color: #8D99AE; */ /* Original Gray Text - Deprecated, replaced by --k-text-secondary */
    /* --border-color: #E9ECEF; */ /* Original Light Border - Deprecated, replaced by --k-border-light */

    /* New Kitchen-Friendly Harmonious & Colorful Palette - REFINED */
    --k-bg-light: #FDFCFB; /* Slightly brighter Warm Cream BG */
    --k-bg-card: #FFFFFF; /* Card BG - keeping white */
    --k-bg-overlay: rgba(61, 44, 42, 0.65); /* Overlay for modal, using dark brown base */

    --k-text-primary: #3A2A27; /* Slightly adjusted Dark Brown for primary text */
    --k-text-secondary: #70605C; /* Slightly adjusted Softer Brown for secondary text */
    --k-text-on-primary: #FFFFFF; /* Text color for on --k-primary-1 backgrounds */
    --k-text-on-secondary: #FFFFFF; /* Text color for on --k-primary-2 backgrounds */

    --k-primary-1: #E67E22; /* Carrot Orange - Maintained */
    --k-primary-1-darker: #D35400; /* Darker Carrot Orange for hover/active */
    --k-primary-1-lighter: #FADEC9; /* Lighter Carrot Orange for subtle backgrounds/hovers */

    --k-primary-2: #2ECC71; /* Emerald Green - Maintained */
    --k-primary-2-darker: #27AE60; /* Darker Emerald Green for hover/active */
    --k-primary-2-lighter: #D5F5E3; /* Lighter Emerald Green for subtle backgrounds/hovers */

    --k-accent-red: #E74C3C; /* Tomato Red */
    --k-accent-red-darker: #C0392B; /* Darker Tomato Red */
    --k-accent-yellow: #F1C40F; /* Sunny Yellow */
    --k-accent-blue: #3498DB; /* Cornflower Blue */
    --k-accent-purple: #9B59B6; /* Plum Purple */
    --k-accent-teal: #1ABC9C; /* Teal */
    --k-accent-terracotta: #E2725B; /* Terracotta */

    --k-border-light: #EDEAE8; /* Softer, warm border */
    --k-border-medium: #D1C9C6; /* Medium warm border for inputs etc. */
    --k-border-dark: #B0A5A1;  /* Darker, warm border for fieldsets etc. - TO BE REPLACED/DEPRECATED by new gray borders */

    /* Shadows - REVISED for new palette */
    --shadow-soft: 0 3px 6px rgba(44, 62, 80, 0.1);
    --shadow-medium: 0 5px 10px rgba(44, 62, 80, 0.15);
    --shadow-strong: 0 8px 15px rgba(44, 62, 80, 0.2);

    /* Helper lighter shades - standardized naming */
    /* --k-primary-1-light: #FADFC5; */ /* DEPRECATED - Replaced by --k-primary-1-lighter */
    /* --k-primary-2-light: #C8F7DC; */ /* DEPRECATED - Replaced by --k-primary-2-lighter */

    /* NEW VIBRANT PALETTE */
    --k-bg-light: #FFFFFF; /* Pure White */
    --k-bg-card: #FFFFFF; /* Pure White */
    --k-bg-overlay: rgba(0, 0, 0, 0.5); /* Neutral dark overlay */

    --k-text-primary: #2C3E50; /* Midnight Blue */
    --k-text-secondary: #566573; /* Steel Gray */
    --k-text-on-bright: #FFFFFF; /* White text for dark/saturated color backgrounds */
    --k-text-on-light-accent: #2c3e50; /* Dark text for lighter accent backgrounds */

    --k-primary-pop-1: #FF6B6B; /* Coral Pink */
    --k-primary-pop-1-darker: #E74C3C; /* Tomato Red */
    --k-primary-pop-1-lighter: #FFC1C1; /* Light Coral Pink */

    --k-primary-pop-2: #4ECDC4; /* Turquoise/Aqua */
    --k-primary-pop-2-darker: #1ABC9C; /* Teal */
    --k-primary-pop-2-lighter: #A0E7E5; /* Light Turquoise */

    --k-accent-vibrant-yellow: #FFD166; /* Sunny Yellow */
    --k-accent-vibrant-orange: #FFA07A; /* Light Salmon */
    --k-accent-vibrant-green: #90EE90; /* Light Green */
    --k-accent-vibrant-purple: #C39BD3; /* Pastel Purple */
    --k-accent-vibrant-blue: #5DADE2; /* Sky Blue */

    --k-border-light: #EAECEE; /* Light Gray for subtle separation on white */
    --k-border-medium: #D5D8DC; /* Medium Gray */
    /* --k-border-dark: #B0A5A1; */ /* DEPRECATED - old warm border */
    /* --k-border-vibrant-accent: To be defined by use case */

    /* Header specific - Option 2 (Dark Contrast) chosen - NOW CHANGED TO LIGHT HEADER */
    --header-bg: #FFFFFF; /* White */
    --header-text: var(--k-text-primary); /* Midnight Blue - same as primary text */

    /* Deprecating old palette names for clarity if they were missed */
    --k-primary-1: var(--k-primary-pop-1); /* Alias old name to new for smoother transition if some styles missed */
    --k-primary-1-darker: var(--k-primary-pop-1-darker);
    --k-primary-1-lighter: var(--k-primary-pop-1-lighter);
    --k-primary-2: var(--k-primary-pop-2);
    --k-primary-2-darker: var(--k-primary-pop-2-darker);
    --k-primary-2-lighter: var(--k-primary-pop-2-lighter);
    --k-accent-red: #E74C3C; /* Keep for specific danger/error, distinct from pop-1 */
    --k-accent-red-darker: #C0392B;
}

/* BASE STYLES */
body {
    font-family: 'Poppins', sans-serif;
    margin: 0;
    background-color: var(--k-bg-light); /* Now white */
    color: var(--k-text-primary); /* Now Midnight Blue */
    line-height: 1.6;
    font-size: 16px;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}
.container { max-width: 1200px; margin: 0 auto; padding: 1.5rem 2rem; }

h1, h2, h3, h4, h5, h6 {
    color: var(--k-text-primary);
    font-weight: 700; /* Bolder headings for more pop */
    margin-top: 0;
    margin-bottom: 1rem;
}
h1 { font-size: 2.75rem; line-height: 1.15; letter-spacing: -0.5px;} /* Slightly larger, tighter */
h2 { font-size: 2.25rem; line-height: 1.2; }
h3 { font-size: 1.75rem; line-height: 1.25; } /* Larger H3 for section titles */
h4 { font-size: 1.25rem; line-height: 1.35; font-weight: 600; } /* H4 still prominent */
p { margin-top: 0; margin-bottom: 1rem; color: var(--k-text-secondary); } /* Paragraphs use secondary text */
a { color: var(--k-primary-pop-1); text-decoration: none; font-weight: 500; transition: color 0.2s ease-in-out; }
a:hover { color: var(--k-primary-pop-1-darker); }

/* Icon base size and margin */
i.fa-solid, i.fas, i.ti { /* Adding .fas for wider compatibility with FontAwesome versions if used, and .ti for Tabler Icons */
    margin-right: 0.75rem;
    width: 24px; /* Slightly larger default icon touch target / visual space */
    text-align: center;
    vertical-align: middle; /* Better alignment with text */
    display: inline-block; /* Ensure width is respected */
}
/* Specific icon colors can be set per component or use case */
.icon-primary { color: var(--k-primary-pop-1); }
.icon-secondary { color: var(--k-primary-pop-2); }
.icon-accent { color: var(--k-accent-vibrant-yellow); } /* Example */


/* HEADER & NAVIGATION */
header { background: var(--header-bg); color: var(--header-text); padding: 1rem 0; box-shadow: var(--shadow-medium); }
#logo {
    font-weight: 700;
    font-size: 1.85rem;
    color: var(--header-text);
    display: flex; /* Use flexbox to align image and text */
    align-items: center; /* Vertically align items in the center */
}
#logo .header-logo {
    height: 30px; /* Reduced height for the logo */
    width: auto; /* Ensure width scales proportionally */
    margin-right: 0.75rem; /* Space between logo and text */
    /* border, background-color, padding, box-sizing removed as header is now white */
    border-radius: 4px; /* Optional: if the logo itself isn't rounded, keep original radius if desired */
}
#logo i.ti { color: var(--header-text); margin-right: 0.6rem; font-size: 1.7rem; /* Make logo icon larger */ } /* This might be removed if icon is replaced by image */
.main-layout { display: flex; gap: 2.5rem; align-items: flex-start; margin-top: 2.5rem; }
aside.main-nav {
    flex: 0 0 230px;
    position: sticky;
    top: 2.5rem;
    padding-right: 1.5rem;
}
main.main-content { flex: 1; min-width: 0; }

.main-nav nav {
    display: flex;
    flex-direction: column;
    gap: 0.85rem; /* More space between nav items */
}
.nav-item {
    display: flex;
    align-items: center;
    padding: 0.9rem 1.35rem; /* Slightly more padding */
    text-decoration: none;
    color: var(--k-text-secondary);
    font-weight: 500;
    font-size: 1.05rem; /* Slightly larger nav text */
    border-radius: 10px;
    transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out, box-shadow 0.2s ease-in-out, transform 0.2s ease;
    border: 1px solid transparent;
}
.nav-item i.ti { /* Using the general icon style now, specific adjustments if needed */
    color: var(--k-text-secondary); /* Default icon color */
    transition: color 0.2s ease-in-out;
    font-size: 1.1em; /* Slightly larger icons in nav */
}
.nav-item:hover {
    background-color: var(--k-primary-pop-1-lighter);
    color: var(--k-primary-pop-1-darker); /* Darker text on light hover */
    border-color: var(--k-primary-pop-1-lighter);
    transform: translateX(5px); /* Subtle hover effect */
}
.nav-item:hover i.ti {
    color: var(--k-primary-pop-1);
}
.nav-item.active {
    background-color: var(--k-primary-pop-1);
    color: var(--k-text-on-bright);
    font-weight: 600;
    box-shadow: var(--shadow-medium); /* Stronger shadow for active item */
    border-color: var(--k-primary-pop-1);
}
.nav-item.active i.ti {
    color: var(--k-text-on-bright);
}


/* BANNER & SEKTIONEN */
.empty-state-banner {
    background: linear-gradient(135deg, var(--k-primary-pop-1-lighter), var(--k-primary-pop-2-lighter)),
                  url('https://images.unsplash.com/photo-1547592180-85f173990554?q=80&w=2070&auto=format&fit=crop') center center/cover;
    padding: 5rem 2.5rem; /* More padding */
    border-radius: 24px; /* Larger radius */
    text-align: center;
    box-shadow: var(--shadow-strong); /* More prominent shadow */
    color: var(--k-text-primary); /* Ensure text is readable */
}
.banner-content {
    background-color: rgba(255, 255, 255, 0.92); /* More opaque white */
    display: inline-block;
    padding: 3rem 3.5rem;
    border-radius: 16px; /* Larger radius */
    backdrop-filter: blur(8px);
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
}
.banner-content h2 { color: var(--k-primary-pop-1); font-size: 2.5rem; } /* Heading takes pop color */
.banner-content p { color: var(--k-text-secondary); font-size: 1.1rem; }


/* Image specific CSS */
.recipe-card-image {
    width: 100%;
    height: 180px;
    object-fit: cover;
    border-radius: 10px 10px 0 0; /* Match card radius */
    margin-bottom: 1rem;
}
.plan-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; }
.plan-instructions {
    text-align: center;
    color: var(--k-text-primary);
    background-color: var(--k-primary-pop-2-lighter); /* Changed to pop-2 lighter */
    padding: 1.25rem; /* More padding */
    border-radius: 12px; /* Match card radius */
    margin-bottom: 2.5rem;
    border: 1px solid var(--k-primary-pop-2); /* Pop-2 border */
    font-weight: 500;
}
.plan-instructions i.ti { color: var(--k-primary-pop-2); }

.card { /* General card styling for generator, inventory etc. */
    background-color: var(--k-bg-card);
    padding: 2.5rem; /* More padding for main cards */
    border-radius: 16px; /* Slightly larger radius for main cards */
    box-shadow: var(--shadow-medium);
    margin-bottom: 2.5rem;
    border: 1px solid var(--k-border-light);
    /* Consider adding a subtle top border in a pop color */
    /* border-top: 4px solid var(--k-primary-pop-1-lighter); */
}
#dashboard-view .card { box-shadow: none; border: none; padding: 0; }
.view.hidden { display: none; }

/* REZEPTKARTEN - VIBRANT STYLING */
.day-container { margin-bottom: 3rem; }
.day-container h3 { /* For "Montag", "Dienstag" etc. */
    font-size: 1.8rem; /* Larger day titles */
    font-weight: 700;
    padding-bottom: 0.75rem;
    border-bottom: 3px solid var(--k-primary-pop-1); /* Pop color border */
    margin-bottom: 2rem; /* More space below day title */
    color: var(--k-primary-pop-1); /* Pop color for day title text */
}
.recipe-options {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 2rem;
}
.recipe-card { /* Individual recipe card */
    background: var(--k-bg-card);
    border: 2px solid transparent;
    padding: 1.25rem; /* Slightly less padding inside recipe card */
    border-radius: 12px;
    box-shadow: var(--shadow-soft);
    transition: all 0.25s ease-in-out;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    border-left: 4px solid var(--k-accent-vibrant-blue); /* Default vibrant accent */
}
.recipe-card:nth-of-type(3n+2) { border-left-color: var(--k-accent-vibrant-green); }
.recipe-card:nth-of-type(3n+3) { border-left-color: var(--k-accent-vibrant-orange); }

.recipe-card > *:last-child { margin-top: auto; }

.recipe-card.selected {
    border-color: var(--k-primary-pop-1); /* Pop color for selected border */
    border-left-width: 4px; /* Ensure left border remains consistent */
    transform: translateY(-5px) scale(1.02);
    box-shadow: var(--shadow-strong); /* Stronger shadow when selected */
}
.recipe-card:not(.selected) {
    opacity: 1; /* Full opacity for non-selected cards */
}
.recipe-card:hover:not(.selected) {
    transform: translateY(-5px) scale(1.02); /* Same effect as selected on hover */
    box-shadow: var(--shadow-medium);
    border-color: var(--k-primary-pop-2); /* Use secondary pop for hover border */
    border-left-width: 4px;
}
.recipe-card h4 {
    font-size: 1.2rem; /* Slightly larger recipe titles */
    font-weight: 700; /* Bolder titles */
    color: var(--k-text-primary);
    margin-bottom: 0.6rem;
}
.recipe-card p { font-size: 0.9rem; } /* Recipe description */


/* Colorful tags - VIBRANT */
.recipe-card .tags { margin-bottom: 1rem; }
.recipe-card .tags span {
    display: inline-block;
    padding: .45em 1em; /* More padding */
    font-size: .8rem; /* Larger tag text */
    font-weight: 600;
    border-radius: 8px; /* Less pill, more badge-like */
    margin: 0.3rem 0.2rem;
    color: var(--k-text-on-bright);
    line-height: 1.3;
    transition: transform 0.2s ease;
}
.recipe-card .tags span:hover { transform: scale(1.05); }

.tags span i.ti { margin-right: 0.5rem; font-size: 0.8em; }

.recipe-card .tags span.price-tag {
    background-color: var(--k-primary-pop-2); /* Turquoise for price */
    color: var(--k-text-on-bright);
}
/* Cycle through vibrant accent colors for other tags */
.recipe-card .tags span:not(.price-tag):nth-of-type(5n+1) { background-color: var(--k-accent-vibrant-yellow); color: var(--k-text-on-light-accent); }
.recipe-card .tags span:not(.price-tag):nth-of-type(5n+2) { background-color: var(--k-accent-vibrant-orange); }
.recipe-card .tags span:not(.price-tag):nth-of-type(5n+3) { background-color: var(--k-accent-vibrant-green); color: var(--k-text-on-light-accent); }
.recipe-card .tags span:not(.price-tag):nth-of-type(5n+4) { background-color: var(--k-accent-vibrant-purple); }
.recipe-card .tags span:not(.price-tag):nth-of-type(5n+5) { background-color: var(--k-accent-vibrant-blue); }
.recipe-card .tags span:not(.price-tag):only-of-type { background-color: var(--k-primary-pop-1); } /* If only one tag, use primary pop */


.recipe-card .match-info {
    margin-top: 1rem;
    padding-top: 1rem;
    border-top: 1px solid var(--k-border-light);
}
.match-info .match-bar {
    width: 100%;
    height: 12px; /* Thicker match bar */
    background-color: var(--k-border-medium); /* Darker base for bar */
    border-radius: 6px;
    overflow: hidden;
    margin-bottom: 0.6rem;
}
.match-info .match-bar-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--k-accent-vibrant-yellow), var(--k-primary-pop-1)); /* Vibrant gradient */
    border-radius: 6px;
    transition: width 0.5s ease-in-out;
}
.match-info .match-text { font-size: 0.9rem; font-weight: 600; color: var(--k-text-primary); }
.match-info .missing-ingredients { font-size: 0.85rem; color: var(--k-accent-red); margin-top: 0.4rem; }
.match-info .all-ingredients-present { font-size: 0.85rem; color: var(--k-primary-pop-2-darker); font-weight: 600; margin-top: 0.4rem; }
.missing-ingredients strong { font-weight: 700; }

/* BUTTONS - VIBRANT STYLING */
.btn-primary, .btn-secondary, .btn-danger, .btn-confirm, .btn-info {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    font-size: 1rem; /* Larger base button font size */
    text-align: center;
    cursor: pointer;
    border: 2px solid transparent; /* Thicker base border for pop */
    padding: 0.8rem 1.75rem; /* More padding */
    border-radius: 10px; /* Consistent radius */
    transition: all .2s ease-in-out;
    box-shadow: var(--shadow-medium); /* Start with medium shadow for more pop */
    text-transform: uppercase; /* Uppercase for more impact */
    letter-spacing: 0.5px;
}
.btn-primary:hover:not(:disabled),
.btn-secondary:hover:not(:disabled),
.btn-confirm:hover:not(:disabled),
.btn-danger:hover:not(:disabled),
.btn-info:hover:not(:disabled) {
    transform: translateY(-3px) scale(1.03); /* More hover pop */
    box-shadow: var(--shadow-strong); /* Stronger shadow on hover */
}

.btn-primary {
    background-color: var(--k-primary-pop-1);
    color: var(--k-text-on-bright);
    border-color: var(--k-primary-pop-1);
}
.btn-primary:hover:not(:disabled) {
    background-color: var(--k-primary-pop-1-darker);
    border-color: var(--k-primary-pop-1-darker);
}

.btn-secondary {
    background-color: var(--k-primary-pop-2);
    color: var(--k-text-on-bright);
    border-color: var(--k-primary-pop-2);
}
.btn-secondary:hover:not(:disabled) {
    background-color: var(--k-primary-pop-2-darker);
    border-color: var(--k-primary-pop-2-darker);
}

.btn-danger {
    background: var(--k-accent-red);
    color: var(--k-text-on-bright);
    border-color: var(--k-accent-red);
}
.btn-danger:hover:not(:disabled) {
    background-color: var(--k-accent-red-darker);
    border-color: var(--k-accent-red-darker);
}

.btn-confirm {
    background-color: var(--k-primary-pop-2); /* Defaulting to pop-2 for confirm */
    color: var(--k-text-on-bright);
    border-color: var(--k-primary-pop-2);
    width: 100%;
    margin-top: 2rem;
    padding: 1rem 1.75rem; /* Larger padding for confirm */
    font-size: 1.15rem; /* Larger font for confirm */
}
.btn-confirm:hover:not(:disabled) {
    background-color: var(--k-primary-pop-2-darker);
    border-color: var(--k-primary-pop-2-darker);
}

.btn-info { /* For "Rezept ansehen" type buttons */
    background-color: transparent;
    color: var(--k-primary-pop-1);
    border: 2px solid var(--k-primary-pop-1); /* Thicker border */
    padding: 0.6rem 1.2rem; /* Adjusted padding */
    margin-top: 1rem;
    font-size: 0.9rem;
    text-transform: none; /* Info buttons can be normal case */
    letter-spacing: normal;
}
.btn-info:hover:not(:disabled) {
    background-color: var(--k-primary-pop-1-lighter);
    color: var(--k-primary-pop-1-darker);
    border-color: var(--k-primary-pop-1);
}

button:disabled,
.btn-primary:disabled,
.btn-secondary:disabled,
.btn-danger:disabled,
.btn-confirm:disabled,
.btn-info:disabled {
    background-color: var(--k-border-medium) !important; /* Use medium gray from new palette */
    color: var(--k-text-secondary) !important; /* Use secondary text, slightly faded */
    border-color: var(--k-border-medium) !important;
    cursor: not-allowed !important;
    box-shadow: none !important;
    transform: none !important;
    opacity: 0.6;
}


/* ERWEITERTE FILTER-UI & FORM ELEMENTS - VIBRANT STYLING */
input[type="text"],
input[type="number"],
input[type="date"],
input[type="email"],
input[type="password"],
textarea,
select {
    width: 100%;
    padding: 0.85rem 1.1rem; /* Slightly more padding */
    font-size: 1rem; /* Larger font size for inputs */
    font-family: 'Poppins', sans-serif;
    color: var(--k-text-primary);
    background-color: var(--k-bg-card); /* White background */
    border: 2px solid var(--k-border-medium); /* Thicker, medium gray border */
    border-radius: 8px;
    box-shadow: none; /* Remove inner shadow for flatter, modern look */
    transition: border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
    box-sizing: border-box;
}
input[type="text"]:focus,
input[type="number"]:focus,
input[type="date"]:focus,
input[type="email"]:focus,
input[type="password"]:focus,
textarea:focus,
select:focus {
    outline: none;
    border-color: var(--k-primary-pop-1); /* Pop color border on focus */
    box-shadow: 0 0 0 3px var(--k-primary-pop-1-lighter); /* Lighter pop color glow */
}
textarea {
    height: auto;
    min-height: 120px; /* Slightly taller */
    resize: vertical;
}
label {
    display: block;
    font-weight: 600; /* Bolder labels */
    margin-bottom: 0.6rem; /* More space below label */
    font-size: 1rem; /* Larger label font size */
    color: var(--k-text-primary);
}
label i.ti { /* Icons in labels */
    color: var(--k-primary-pop-2); /* Pop color for label icons */
    margin-right: 0.5rem;
}

.form-group { margin-bottom: 1.75rem; } /* More space between form groups */
.form-group-inline { display: flex; gap: 1.75rem; align-items: flex-end; }
.form-group-inline .form-group { flex: 1; margin-bottom: 0; }

.radio-group-container, .checkbox-group-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); /* Wider min for items */
    gap: 1rem;
}
.radio-group, .checkbox-group { /* Container for each radio/checkbox + label */
    display: flex;
    align-items: center;
    background-color: var(--k-bg-light); /* White background */
    padding: 0.85rem 1.25rem; /* More padding */
    border-radius: 10px; /* Larger radius */
    border: 2px solid var(--k-border-light); /* Light border */
    transition: all 0.2s ease-in-out;
    cursor: pointer;
    box-shadow: var(--shadow-soft);
}
.radio-group:hover, .checkbox-group:hover {
    border-color: var(--k-primary-pop-2); /* Pop color border on hover */
    box-shadow: var(--shadow-medium);
}
.radio-group:has(input:checked), .checkbox-group:has(input:checked) {
    border-color: var(--k-primary-pop-1); /* Primary pop color for selected */
    background-color: var(--k-primary-pop-1-lighter);
    box-shadow: var(--shadow-medium);
}
.radio-group:has(input:checked) label, .checkbox-group:has(input:checked) label {
    color: var(--k-primary-pop-1-darker); /* Darker pop color for selected label text */
    font-weight: 600;
}
.radio-group:has(input:checked) i.ti, .checkbox-group:has(input:checked) i.ti {
    color: var(--k-primary-pop-1); /* Pop color for icon in selected label */
}


.radio-group input[type="radio"], .checkbox-group input[type="checkbox"] {
    width: 1.3em; /* Larger custom radio/checkbox */
    height: 1.3em;
    margin-right: 0.9rem;
    accent-color: var(--k-primary-pop-1); /* Fallback for non-customized appearance */
    cursor: pointer;
    appearance: none;
    -webkit-appearance: none;
    border: 2px solid var(--k-primary-pop-1); /* Pop color border for the control itself */
    border-radius: 50%;
    position: relative;
    transition: border-color 0.2s ease-in-out, background-color 0.2s ease-in-out;
    flex-shrink: 0; /* Prevent shrinking */
}
.checkbox-group input[type="checkbox"] {
    border-radius: 5px; /* Squarer for checkbox */
}
.radio-group input[type="radio"]:checked, .checkbox-group input[type="checkbox"]:checked {
    background-color: var(--k-primary-pop-1);
    border-color: var(--k-primary-pop-1);
}
.radio-group input[type="radio"]:hover, .checkbox-group input[type="checkbox"]:hover {
    border-color: var(--k-primary-pop-1-darker);
}

/* Custom checkmark/dot for radio/checkbox */
.radio-group input[type="radio"]:checked::before {
    content: '';
    display: block;
    width: 0.6em; /* Larger dot */
    height: 0.6em;
    background-color: var(--k-text-on-bright); /* White dot */
    border-radius: 50%;
    position: absolute;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
}
.checkbox-group input[type="checkbox"]:checked::before {
    content: '\f00c';
    font-family: "Font Awesome 6 Free";
    font-weight: 900;
    color: var(--k-text-on-bright); /* White checkmark */
    font-size: 0.85em; /* Adjusted checkmark size */
    position: absolute;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    line-height: 1;
}

.radio-group label, .checkbox-group label {
    margin: 0;
    font-weight: 500;
    font-size: 1rem; /* Larger label text */
    cursor: pointer;
    color: var(--k-text-secondary);
    display: flex; /* Align icon and text within label */
    align-items: center;
}
.radio-group label i.ti, .checkbox-group label i.ti {
    margin-right: 0.5rem;
    color: var(--k-text-secondary); /* Default icon color in label */
    transition: color 0.2s ease-in-out;
}


select#cuisine-style {
    appearance: none;
    -webkit-appearance: none;
    background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23FF6B6B%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.4-5.4-12.8z%22%2F%3E%3C%2Fsvg%3E'); /* Pop color for arrow */
    background-repeat: no-repeat;
    background-position: right 1.1rem center; /* Adjusted position */
    background-size: 0.9em; /* Adjusted size */
    padding-right: 3rem; /* More space for arrow */
}

fieldset {
    border: 2px solid var(--k-primary-pop-2-lighter); /* Lighter pop color border for fieldset */
    padding: 2rem 2.5rem; /* More padding */
    border-radius: 12px; /* Match card radius */
    margin-bottom: 2.5rem;
    box-shadow: var(--shadow-soft);
}
fieldset legend {
    color: var(--k-primary-pop-2); /* Pop color for legend */
    font-weight: 700; /* Bolder legend */
    padding: 0 1rem; /* More padding for legend */
    font-size: 1.2rem; /* Larger legend text */
}
fieldset legend i.ti {
    margin-right: 0.6rem;
}
/* textarea styles are now part of the general input/textarea block */
/* textarea:focus - Handled by general textarea:focus */

/* SHOPPING LIST - MINI CARDS */
.shopping-list-category {
    margin-bottom: 2.5rem;
}
.shopping-list-category h3 {
    color: var(--k-primary-pop-2); /* Vibrant color for category titles */
    border-bottom: 2px solid var(--k-primary-pop-2-lighter);
    padding-bottom: 0.5rem;
    margin-bottom: 1.5rem;
    font-size: 1.6rem;
}
.shopping-list-category h3 i.ti {
    margin-right: 0.8rem;
    color: var(--k-primary-pop-2);
}

.shopping-list-items-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); /* Responsive grid */
    gap: 1.5rem;
}

.shopping-list-item-card {
    background-color: var(--k-bg-card);
    border-radius: 12px;
    padding: 1.25rem;
    box-shadow: var(--shadow-medium);
    border-left: 5px solid var(--k-accent-vibrant-yellow); /* Default accent border */
    transition: all 0.2s ease-in-out;
    display: flex;
    flex-direction: column;
    position: relative; /* For absolute positioned icons */
}
.shopping-list-item-card:hover {
    transform: translateY(-3px);
    box-shadow: var(--shadow-strong);
}

.item-card-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start; /* Align items to top */
    margin-bottom: 0.75rem;
}
.item-card-header h4 {
    font-size: 1.15rem;
    font-weight: 600;
    color: var(--k-text-primary);
    margin-right: 0.5rem; /* Space for icons */
    line-height: 1.3;
}
.item-card-header .combined-icon {
    color: var(--k-text-secondary);
    font-size: 0.9em;
    margin-left: 0.3rem;
}
.item-card-header .have-at-home-icon {
    color: var(--k-primary-pop-2); /* Green for "have at home" */
    font-size: 1.3em;
    flex-shrink: 0; /* Prevent icon from shrinking */
}

.item-card-body .total-quantity {
    font-size: 1rem;
    font-weight: 500;
    color: var(--k-text-secondary);
    display: flex; /* Align icon and text */
    align-items: center;
    margin-bottom: 0.75rem;
}
.item-card-body .total-quantity i.ti {
    color: var(--k-primary-pop-1); /* Pop color for quantity icon */
    margin-right: 0.5rem;
}

.shopping-list-item-card .source-list {
    list-style: none;
    padding: 0.75rem 0 0 0;
    margin-top: 0.75rem;
    border-top: 1px solid var(--k-border-light);
    font-size: 0.85rem;
}
.shopping-list-item-card .source-list li {
    color: var(--k-text-secondary);
    margin-bottom: 0.3rem;
    display: flex;
    align-items: center;
}
.shopping-list-item-card .source-list li i.ti {
    font-size: 0.9em;
    margin-right: 0.4rem;
    color: var(--k-text-secondary);
}

/* Styling for "Have at Home" items */
.shopping-list-item-card.have-at-home {
    border-left-color: var(--k-primary-pop-2); /* Green accent for "have at home" */
    background-color: var(--k-primary-pop-2-lighter); /* Light green background */
}
.shopping-list-item-card.have-at-home .item-card-header h4 {
    /* color: var(--k-text-primary); */ /* Keep primary text color or make it slightly darker if needed */
}
.shopping-list-item-card.have-at-home .total-quantity i.ti {
    color: var(--k-primary-pop-2-darker); /* Darker green for quantity icon */
}


/* MODAL, FOOTER, etc. - VIBRANT STYLING */
.modal-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background-color: var(--k-bg-overlay); /* Already updated to neutral dark */
    display: flex; justify-content: center; align-items: center;
    z-index: 2000;
    opacity: 0; visibility: hidden;
    transition: opacity 0.3s ease, visibility 0.3s ease;
}
.modal-overlay:not(.hidden) { opacity: 1; visibility: visible; }

.modal-content {
    background-color: var(--k-bg-card);
    padding: 2rem; /* Adjusted padding */
    border-radius: 12px; /* Softer radius */
    box-shadow: var(--shadow-strong); /* Use strong shadow for modal pop */
    width: 90%; max-width: 700px; /* Slightly narrower max-width */
    max-height: 85vh; /* Adjusted max height */
    overflow-y: auto;
    position: relative;
    transform: scale(0.95) translateY(10px); /* Add slight Y offset for entry animation */
    transition: transform 0.3s cubic-bezier(0.25, 0.8, 0.25, 1), opacity 0.3s cubic-bezier(0.25, 0.8, 0.25, 1); /* Smoother cubic-bezier */
}
.modal-overlay:not(.hidden) .modal-content {
    transform: scale(1) translateY(0);
    opacity: 1;
}
.modal-close-btn {
    position: absolute;
    top: 1rem; right: 1.25rem; /* Slightly more space */
    background: var(--k-primary-pop-1); /* Pop color background */
    color: var(--k-text-on-bright); /* White X */
    border: none;
    font-size: 1.2rem; /* Smaller font size for X */
    line-height: 1;
    width: 32px; /* Square button */
    height: 32px;
    border-radius: 50%; /* Circular button */
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: var(--shadow-medium);
    transition: background-color 0.2s, transform 0.2s;
}
.modal-close-btn:hover {
    background-color: var(--k-primary-pop-1-darker);
    transform: rotate(90deg) scale(1.1); /* Rotate and slightly scale on hover */
}

#modal-body h2 { /* Recipe Title in Modal */
    color: var(--k-primary-pop-1);
    border-bottom: 3px solid var(--k-primary-pop-1-lighter); /* Pop color accent border */
    padding-bottom: 0.8rem;
    margin-bottom: 1.75rem;
    font-size: 2rem; /* Larger title */
    text-align: center; /* Center title */
}
#modal-body h2 i.ti { color: var(--k-primary-pop-1); } /* Icon matches title color */

#modal-body h3 { /* "Zutaten", "Anleitung" */
    color: var(--k-primary-pop-2); /* Secondary pop color */
    margin-top: 2rem;
    margin-bottom: 1rem;
    font-size: 1.5rem; /* Larger subtitles */
    border-left: 4px solid var(--k-primary-pop-2); /* Accent border */
    padding-left: 0.75rem;
}
#modal-body h3 i.ti { color: var(--k-primary-pop-2); } /* Icon matches subtitle color */

#modal-body .ingredient-list, #modal-body .instructions-list { list-style: none; padding: 0; }

#modal-body .ingredient-list li {
    background-color: var(--k-primary-pop-1-lighter); /* Light pop color background */
    color: var(--k-text-primary);
    padding: 0.85rem 1.25rem; /* More padding */
    border-radius: 8px;
    margin-bottom: 0.6rem;
    display: flex;
    justify-content: space-between;
    font-size: 1rem; /* Larger ingredient text */
    font-weight: 500;
    box-shadow: var(--shadow-soft);
    border-left: 4px solid var(--k-primary-pop-1);
}
#modal-body .ingredient-list li i.ti { color: var(--k-primary-pop-1); margin-right: 0.6rem; } /* Optional: icon for each ingredient */

#modal-body .instructions-list li {
    padding: 0.8rem 0.25rem; /* More padding */
    border-bottom: 1px solid var(--k-border-medium); /* Slightly darker border */
    line-height: 1.7; /* More readable line height */
    font-size: 1rem; /* Larger instruction text */
    color: var(--k-text-secondary);
}
#modal-body .instructions-list li strong { color: var(--k-text-primary); } /* Emphasize step number */
#modal-body .instructions-list li:last-child { border-bottom: none; }

footer {
    text-align: center;
    padding: 3rem 1rem; /* More padding */
    color: var(--k-text-secondary);
    margin-top: 4rem; /* More space above footer */
    background-color: var(--k-primary-pop-2-lighter); /* Light pop color background for footer */
    border-top: 3px solid var(--k-primary-pop-2); /* Pop color top border */
}
footer i.fa-heart { color: var(--k-primary-pop-1); font-size: 1.2em; } /* Ensure heart uses primary pop color */
/* LOADING SCREEN */
#loading-screen { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: #ffffff; display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 1000; transition: opacity 0.5s ease-out; }
#loading-screen .logo-container { width: 120px; height: 120px; background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSIjMkE5RDhGIiBkPSJNNTAsMCBDNjAsMjAgODUsMjUgOTUsNTAgQzcwLDYwIDcwLDg1IDUwLDEwMCBDMzAsODUgMzAsNjAgNSw1MCBDMTUsMjUgNDAsMjAgNTAsMCBaIi8+PHBvbHlsaW5lIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmZmZmZiIgc3Ryb2tlLXdpZHRoPSI4IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHBvaW50cz0iMzAsNTUgNDUsNzAgNzAsNDAiLz48L3N2Zz4='); background-size: contain; background-repeat: no-repeat; animation: pulse 1.5s infinite ease-in-out; }
@keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }

/* RESPONSIVE DESIGN - Reviewed and Refined for VIBRANT THEME */
@media (max-width: 1024px) { /* Adding a new breakpoint for larger tablets / smaller desktops */
    .main-layout { gap: 1.5rem; }
    aside.main-nav { flex: 0 0 200px; padding-right: 1rem; } /* Make nav a bit narrower */
    .container { padding: 1.5rem; } /* Adjust container padding */
    h1 { font-size: 2.25rem; }
    h2 { font-size: 1.75rem; }
    h3 { font-size: 1.4rem; }
    .recipe-options { gap: 1.5rem; }
    .shopping-list-items-grid { gap: 1rem; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); }
}

@media (max-width: 992px) { /* Tablet and below */
    .main-layout {
        flex-direction: column;
        margin-top: 1.5rem;
        gap: 1.5rem;
    }
    aside.main-nav {
        position: static;
        width: 100%;
        margin-bottom: 1.5rem;
        padding-right: 0;
        top: auto;
    }
    .main-nav nav {
        flex-direction: row;
        justify-content: space-around;
        flex-wrap: wrap;
        gap: 0.5rem; /* Keep small gap for wrapped items */
    }
    .nav-item {
        flex-grow: 1;
        justify-content: center;
        padding: 0.85rem 1rem; /* Adjusted padding for horizontal */
        font-size: 1rem; /* Slightly smaller for horizontal layout if needed */
    }
    .nav-item i { margin-right: 0.6rem; font-size: 1em; }


    .form-group-inline {
        flex-direction: column;
        gap: 1rem;
    }
    .form-group-inline .form-group {
        margin-bottom: 1rem;
    }
    .form-group-inline .form-group:last-child {
        margin-bottom: 0;
    }
    .card { padding: 2rem; } /* Slightly reduce main card padding */
    .day-container h3 { font-size: 1.6rem; margin-bottom: 1.5rem;}
    .recipe-card { padding: 1rem; }
}

@media (max-width: 768px) { /* Smaller tablets / large phones */
    .container { padding: 1rem 1.25rem; }

    h1#logo { font-size: 1.6rem; }
    h1 { font-size: 2.25rem; } /* Adjusted from previous version */
    h2 { font-size: 1.8rem; } /* Adjusted */
    h3 { font-size: 1.5rem; } /* Adjusted */
    h4 { font-size: 1.15rem; }


    .nav-item { font-size: 0.95rem; padding: 0.8rem; }
    .nav-item i { margin-right: 0.5rem; }

    .recipe-options { grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.25rem; }
    .shopping-list-items-grid { grid-template-columns: 1fr; gap: 1rem; } /* Stack shopping list cards */

    .empty-state-banner {
        padding: 4rem 1.5rem; /* More vertical padding */
        border-radius: 20px;
         background-image: linear-gradient(135deg, var(--k-primary-pop-1-lighter), var(--k-primary-pop-2-lighter)),
                          url('https://images.unsplash.com/photo-1547592180-85f173990554?q=80&w=1200&auto=format&fit=crop');
    }
    .banner-content { padding: 2.5rem; border-radius: 12px; }
    .banner-content h2 { font-size: 2rem; margin-bottom: 1rem; } /* Larger heading for banner */

    .plan-header {
        flex-direction: column;
        align-items: stretch;
        gap: 1rem; /* Increased gap */
    }
    .plan-header h2 { margin-bottom: 0.5rem; font-size:1.8rem; /* Match other h2 */ }
    #delete-plan-btn { width: 100%; }

    .modal-content {
        width: calc(100% - 2.5rem); /* More margin */
        margin: 1.25rem;
        padding: 1.75rem; /* More padding */
        max-height: 88vh;
    }
    .modal-close-btn { font-size: 1.1rem; top: 1rem; right: 1rem; width:30px; height:30px; }
    #modal-body h2 { font-size: 1.75rem; }
    #modal-body h3 { font-size: 1.35rem; }
    #modal-body .ingredient-list li, #modal-body .instructions-list li { font-size: 0.95rem; }


    .btn-primary, .btn-secondary, .btn-danger, .btn-confirm, .btn-info {
        padding: 0.75rem 1.5rem; /* Slightly larger base padding */
        font-size: 0.95rem; /* Slightly larger base font */
    }
    .btn-confirm { font-size: 1.05rem; padding: 0.9rem 1.5rem; }
    .card { padding: 1.75rem; } /* Reduce general card padding */
}

@media (max-width: 576px) { /* Mobile phones */
    body { font-size: 16px; /* Keep base font size slightly larger for readability */ }
    .container { padding: 1rem 1rem; } /* More consistent padding */

    h1#logo {
        text-align: center; /* This will be overridden by flex settings for children but can affect block itself if not display:flex */
        width: 100%;
        font-size: 1.75rem;
        justify-content: center; /* Center flex items (image and text) */
    }
    header .container { padding: 1.25rem 1rem; }
    h1 { font-size: 2rem; } /* Larger h1 */
    h2 { font-size: 1.65rem; } /* Larger h2 */
    h3 { font-size: 1.4rem; } /* Larger h3 */
    .day-container h3 { font-size: 1.5rem; } /* Day titles also larger */


    .main-nav nav {
        flex-direction: column;
        gap: 0.85rem; /* More gap for stacked items */
    }
    .nav-item {
        width: 100%;
        justify-content: flex-start;
        font-size: 1.05rem; /* Keep nav item text readable */
        padding: 0.9rem 1.25rem;
    }

    .recipe-card { padding: 1.25rem; } /* More padding in recipe cards */
    .recipe-card-image { height: 170px; }
    .recipe-card h4 { font-size: 1.15rem; }
    .recipe-card .tags span { font-size: 0.75rem; padding: .4em .9em; }
    .shopping-list-item-card { padding: 1rem; } /* Adjust shopping card padding */
    .item-card-header h4 { font-size: 1.05rem;}


    .empty-state-banner { padding: 3rem 1rem; }
    .banner-content { padding: 2rem; }
    .banner-content h2 { font-size: 1.75rem; }
    .banner-content p { font-size: 1rem; }

    .radio-group-container, .checkbox-group-container {
        grid-template-columns: 1fr;
        gap: 0.85rem;
    }
    .radio-group, .checkbox-group { padding: 0.75rem 1rem; }
    .radio-group input[type="radio"], .checkbox-group input[type="checkbox"] { margin-right: 0.75rem; }
    .radio-group label, .checkbox-group label { font-size: 0.95rem; }


    #pantry-item-details { flex-direction: column; gap: 1rem; }
    #pantry-item-details .form-group { width: 100%; }

    .btn-primary, .btn-secondary, .btn-danger, .btn-confirm, .btn-info {
        padding: 0.8rem 1.5rem; /* Maintain decent button size */
        font-size: 0.95rem;
    }
    .btn-confirm { font-size: 1.1rem; }
}

/* Styles for new inventory (Mein Vorrat) section - Ensure responsive behavior */
#add-pantry-item-form {
    margin-bottom: 2rem;
    position: relative; /* For suggestions positioning */
}

#pantry-item-search {
    width: 100%;
    padding: 0.75rem 1rem;
    font-size: 1rem;
    border: 1px solid var(--k-border-light);
    border-radius: 8px;
    background-color: var(--k-bg-card);
    font-family: 'Poppins', sans-serif;
    color: var(--k-text-primary);
    box-sizing: border-box; /* Ensures padding doesn't add to width */
}
#pantry-item-search:focus {
    outline: none;
    border-color: var(--k-primary-1);
    box-shadow: 0 0 0 3px rgba(230, 126, 34, 0.2);
}

.suggestions-list {
    position: absolute;
    width: 100%;
    background-color: var(--k-bg-card);
    border: 1px solid var(--k-border-light);
    border-top: none;
    border-radius: 0 0 8px 8px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    z-index: 100;
    max-height: 200px;
    overflow-y: auto;
}
.suggestions-list.hidden {
    display: none;
}
.suggestions-list ul {
    list-style: none;
    padding: 0;
    margin: 0;
}
.suggestions-list li {
    padding: 0.75rem 1rem;
    cursor: pointer;
    font-size: 0.95rem;
    color: var(--k-text-secondary);
}
.suggestions-list li:hover {
    background-color: var(--k-primary-1-light);
    color: var(--k-text-primary);
}

#pantry-item-details {
    margin-top: 1rem;
    margin-bottom: 1rem;
    padding: 1rem;
    background-color: var(--k-bg-light); /* Slightly different background to group them */
    border-radius: 8px;
    border: 1px solid var(--k-border-light);
}
#pantry-item-details .form-group input {
     width: 100%; /* Make inputs take full width of their group */
     padding: 0.5rem 0.8rem; /* Smaller padding for these inputs */
     font-size: 0.9rem;
     box-sizing: border-box;
     border: 1px solid var(--k-border-light);
     border-radius: 6px;
}
#pantry-item-details .form-group input:focus {
    border-color: var(--k-primary-1);
    box-shadow: 0 0 0 2px rgba(230, 126, 34, 0.15);
    outline: none;
}
#pantry-item-details .form-group label {
    font-size: 0.85rem;
    margin-bottom: 0.3rem;
    display: block;
}


#add-item-to-pantry-btn {
    margin-top: 1rem;
    /* Use existing btn-primary styles, specific overrides if needed */
}

hr.section-divider {
    border: none;
    border-top: 1px solid var(--k-border-dark);
    margin: 2.5rem 0;
}

#current-pantry-section h3 {
    margin-bottom: 1rem;
}

#current-pantry-display ul.current-pantry-list {
    list-style: none;
    padding: 0;
}

#current-pantry-display li.pantry-list-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.75rem 1rem;
    margin-bottom: 0.5rem;
    background-color: var(--k-bg-light);
    border-radius: 8px;
    border-left: 4px solid var(--k-primary-2); /* Green accent */
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}
#current-pantry-display li.pantry-list-item span {
    flex-grow: 1;
    font-size: 0.95rem;
}

#current-pantry-display .btn-remove-pantry-item {
    background: none;
    border: none;
    color: var(--k-accent-red);
    cursor: pointer;
    font-size: 1.1rem;
    padding: 0.25rem 0.5rem;
    margin-left: 1rem;
}
#current-pantry-display .btn-remove-pantry-item:hover {
    color: #C0392B; /* Darker red */
}

#empty-pantry-message {
    text-align: center;
    color: var(--k-text-secondary);
    padding: 1rem;
    background-color: var(--k-bg-light);
    border-radius: 8px;
}
#find-recipes-from-pantry-btn {
    margin-top: 1.5rem; /* Space above this button */
}

/* SHOPPING LIST CARD STYLES */
.shopping-list-items-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); /* Responsive grid */
    gap: 1.5rem;
    padding-top: 1rem; /* Add some padding above the cards */
}

.shopping-list-item-card {
    background-color: var(--k-bg-card);
    border-radius: 12px;
    padding: 1.25rem;
    box-shadow: var(--shadow-medium);
    border-left: 5px solid var(--k-accent-vibrant-blue); /* Default accent border */
    transition: all 0.2s ease-in-out;
    display: flex;
    flex-direction: column;
}
.shopping-list-item-card:hover {
    transform: translateY(-3px);
    box-shadow: var(--shadow-strong);
}

.item-card-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start; /* Align items to top */
    margin-bottom: 1rem; /* Increased margin */
    border-bottom: 1px solid var(--k-border-light); /* Separator */
    padding-bottom: 0.75rem; /* Space for separator */
}
.item-card-header h4 {
    font-size: 1.2rem; /* Slightly larger */
    font-weight: 700; /* Bolder */
    color: var(--k-text-primary);
    margin-right: 0.5rem; /* Space for icons */
    line-height: 1.3;
    flex-grow: 1; /* Allow h4 to take available space */
}
.item-card-header .combined-icon {
    color: var(--k-text-secondary);
    font-size: 0.9em;
    margin-left: 0.4rem;
    vertical-align: middle;
}
.item-card-header .have-at-home-icon {
    color: var(--k-primary-pop-2); /* Green for "have at home" */
    font-size: 1.5em; /* Larger icon */
    flex-shrink: 0; /* Prevent icon from shrinking */
    margin-left: 0.5rem;
}

.item-card-body .unit-entry {
    margin-bottom: 0.75rem;
}
.item-card-body .unit-entry:last-child {
    margin-bottom: 0;
}

.item-card-body .total-quantity {
    font-size: 1.05rem; /* Slightly larger */
    font-weight: 600; /* Bolder */
    color: var(--k-text-primary); /* Primary text color */
    display: flex;
    align-items: center;
    margin-bottom: 0.5rem; /* Space below quantity */
}
.item-card-body .total-quantity i {
    color: var(--k-primary-pop-1); /* Pop color for quantity icon */
    margin-right: 0.6rem; /* More space for icon */
    font-size: 1.1em;
}

.shopping-list-item-card .source-list {
    list-style: none;
    padding: 0.5rem 0 0 0; /* Reduced top padding */
    margin-top: 0.5rem; /* Reduced top margin */
    border-top: 1px dashed var(--k-border-medium); /* Dashed separator */
    font-size: 0.9rem; /* Slightly larger */
}
.shopping-list-item-card .source-list li {
    color: var(--k-text-secondary);
    margin-bottom: 0.4rem;
    display: flex;
    align-items: center;
}
.shopping-list-item-card .source-list li:last-child {
    margin-bottom: 0;
}
.shopping-list-item-card .source-list li i {
    font-size: 0.9em;
    margin-right: 0.5rem; /* More space */
    color: var(--k-text-secondary);
    width: 16px; /* Align icons */
    text-align: center;
}

/* Styling for "Have at Home" items */
.shopping-list-item-card.have-at-home {
    border-left-color: var(--k-primary-pop-2); /* Green accent for "have at home" */
    background-color: var(--k-primary-pop-2-lighter); /* Light green background */
}
.shopping-list-item-card.have-at-home .item-card-header h4 {
     /* Keep primary text color or adjust if needed */
}
.shopping-list-item-card.have-at-home .total-quantity i {
    color: var(--k-primary-pop-2-darker); /* Darker green for quantity icon */
}
.shopping-list-item-card.have-at-home .item-card-header .have-at-home-icon {
    /* Icon color already set, but can be overridden if needed */
}

/* Responsive adjustments for shopping list cards if needed */
@media (max-width: 576px) { /* Mobile phones */
    .shopping-list-items-grid {
        grid-template-columns: 1fr; /* Stack cards on smallest screens */
        gap: 1rem;
    }
    .shopping-list-item-card {
        padding: 1rem;
    }
    .item-card-header h4 {
        font-size: 1.1rem;
    }
    .item-card-body .total-quantity {
        font-size: 1rem;
    }
    .shopping-list-item-card .source-list {
        font-size: 0.85rem;
    }
}